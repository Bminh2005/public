<!-- KPI STATS -->
<section class="kpis">
  <article class="kpi kpi--blue">
    <div class="kpi__title">T·ªïng nh√¢n kh·∫©u</div>
    <div class="kpi__value" id="totalResidents">0</div>
  </article>
  <article class="kpi kpi--green">
    <div class="kpi__title">Nam</div>
    <div class="kpi__value" id="maleResidents">0</div>
  </article>
  <article class="kpi kpi--orange">
    <div class="kpi__title">N·ªØ</div>
    <div class="kpi__value" id="femaleResidents">0</div>
  </article>
  <article class="kpi kpi--blue">
    <div class="kpi__title">Trung b√¨nh tu·ªïi</div>
    <div class="kpi__value" id="avgAge">0</div>
  </article>
</section>

<div class="card card--table">
  <div class="card__header card__header--wrap">
    <h2>üë• Danh s√°ch nh√¢n kh·∫©u</h2>
    <div style="display:flex;gap:10px;flex-wrap:wrap;flex:1;">
      <input type="text" id="residentSearch" class="input" placeholder="üîç T√¨m theo t√™n, CCCD..."
        style="flex:1;min-width:200px;" />
      <select id="residentGenderFilter" class="input" style="width:150px;">
        <option value="">T·∫•t c·∫£ gi·ªõi t√≠nh</option>
        <option value="Nam">Nam</option>
        <option value="N·ªØ">N·ªØ</option>
      </select>
    </div>
  </div>
  <div class="table-wrap">
    <table class="table" id="residentTable">
      <thead>
        <tr>
          <th style="width:40px;">STT</th>
          <th>H·ªç t√™n</th>
          <th>B√≠ danh</th>
          <th>Ng√†y sinh</th>
          <th>Gi·ªõi t√≠nh</th>
          <th>N∆°i sinh</th>
          <th>Nguy√™n qu√°n</th>
          <th>D√¢n t·ªôc</th>
          <th>CCCD</th>
          <th>Quan h·ªá</th>
          <th style="width:80px;">H√†nh ƒë·ªông</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <div id="emptyStateResident" class="empty" style="display:none;">Kh√¥ng c√≥ d·ªØ li·ªáu ph√π h·ª£p.</div>
  </div>
  <div class="table__footer">
    <button class="ghost" id="prevPageResidents">‚Üê Tr∆∞·ªõc</button>
    <span id="pageInfoResidents">Trang 1/1</span>
    <button class="ghost" id="nextPageResidents">Sau ‚Üí</button>
  </div>
</div>

<!-- Modal: Resident Detail -->
<div id="residentDetailModal" class="modal">
  <div class="modal__overlay"></div>
  <div class="modal__content" style="max-width:900px;">
    <div class="modal__header">
      <h2>Chi ti·∫øt nh√¢n kh·∫©u</h2>
      <div style="display:flex;gap:8px;">
        <button id="editResidentBtn" class="btn btn--primary" style="font-size:13px;">‚úé Ch·ªânh s·ª≠a</button>
        <button id="closeResidentDetailModal" class="modal__close" aria-label="ƒê√≥ng">√ó</button>
      </div>
    </div>
    <div class="modal__body">
      <h3 style="margin-top:0;">üìã Th√¥ng tin c√° nh√¢n</h3>
      <div class="household-info">
        <div class="info-row">
          <span class="label">H·ªç t√™n:</span>
          <span class="value" id="residentName">-</span>
        </div>
        <div class="info-row">
          <span class="label">B√≠ danh:</span>
          <span class="value" id="residentNickname">-</span>
        </div>
        <div class="info-row">
          <span class="label">CCCD/CMND:</span>
          <span class="value" id="residentCCCD">-</span>
        </div>
        <div class="info-row">
          <span class="label">Ng√†y sinh:</span>
          <span class="value" id="residentBirthDate">-</span>
        </div>
        <div class="info-row">
          <span class="label">Gi·ªõi t√≠nh:</span>
          <span class="value" id="residentGender">-</span>
        </div>
        <div class="info-row">
          <span class="label">N∆°i sinh:</span>
          <span class="value" id="residentBirthPlace">-</span>
        </div>
        <div class="info-row">
          <span class="label">Nguy√™n qu√°n:</span>
          <span class="value" id="residentOrigin">-</span>
        </div>
        <div class="info-row">
          <span class="label">D√¢n t·ªôc:</span>
          <span class="value" id="residentEthnicity">-</span>
        </div>
      </div>

      <h3>üìÑ Th√¥ng tin ƒëƒÉng k√Ω c∆∞ tr√∫</h3>
      <div class="household-info">
        <div class="info-row">
          <span class="label">Ng√†y ƒëƒÉng k√Ω th∆∞·ªùng tr√∫/t·∫°m tr√∫:</span>
          <span class="value" id="residentRegDate">-</span>
        </div>
        <div class="info-row">
          <span class="label">ƒê·ªãa ch·ªâ th∆∞·ªùng tr√∫ tr∆∞·ªõc khi chuy·ªÉn ƒë·∫øn:</span>
          <span class="value" id="residentPreviousAddr">-</span>
        </div>
        <div class="info-row">
          <span class="label">ƒê·ªãa ch·ªâ th∆∞·ªùng tr√∫ hi·ªán t·∫°i:</span>
          <span class="value" id="residentCurrentAddr">-</span>
        </div>
        <div class="info-row">
          <span class="label">Tr·∫°ng th√°i c∆∞ tr√∫:</span>
          <span class="value" id="residentStatus">-</span>
        </div>
      </div>

      <h3>üÜî Th√¥ng tin gi·∫•y t·ªù</h3>
      <div class="household-info">
        <div class="info-row">
          <span class="label">N∆°i c·∫•p CCCD/CMND:</span>
          <span class="value" id="residentCCCDPlace">-</span>
        </div>
        <div class="info-row">
          <span class="label">Ng√†y c·∫•p CCCD/CMND:</span>
          <span class="value" id="residentCCCDDate">-</span>
        </div>
      </div>

      <h3>üíº Th√¥ng tin vi·ªác l√†m</h3>
      <div class="household-info">
        <div class="info-row">
          <span class="label">Ngh·ªÅ nghi·ªáp:</span>
          <span class="value" id="residentProfession">-</span>
        </div>
        <div class="info-row">
          <span class="label">N∆°i l√†m vi·ªác:</span>
          <span class="value" id="residentWorkplace">-</span>
        </div>
      </div>

      <h3>üè† Th√¥ng tin h·ªô kh·∫©u</h3>
      <div class="household-info">
        <div class="info-row">
          <span class="label">S·ªë h·ªô kh·∫©u:</span>
          <span class="value" id="residentHousehold">-</span>
        </div>
        <div class="info-row">
          <span class="label">Ch·ªß h·ªô:</span>
          <span class="value" id="residentHeadOfHouse">-</span>
        </div>
        <div class="info-row">
          <span class="label">Quan h·ªá v·ªõi ch·ªß h·ªô:</span>
          <span class="value" id="residentRelation">-</span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal: Edit Resident -->
<div id="editResidentModal" class="modal">
  <div class="modal__overlay"></div>
  <div class="modal__content" style="max-width:700px;">
    <div class="modal__header">
      <h2>Ch·ªânh s·ª≠a nh√¢n kh·∫©u</h2>
      <button id="closeEditResidentModal" class="modal__close" aria-label="ƒê√≥ng">√ó</button>
    </div>
    <div class="modal__body">
      <form id="editResidentForm" class="form">
        <h3>üìã Th√¥ng tin c√° nh√¢n</h3>
        <div class="form__row">
          <div class="form__group">
            <label for="edit_res_hoTen">H·ªç t√™n *</label>
            <input id="edit_res_hoTen" type="text" class="input" required />
          </div>
          <div class="form__group">
            <label for="edit_res_biDanh">B√≠ danh</label>
            <input id="edit_res_biDanh" type="text" class="input" />
          </div>
        </div>
        <div class="form__row">
          <div class="form__group">
            <label for="edit_res_namSinh">NƒÉm sinh</label>
            <input id="edit_res_namSinh" type="number" class="input" min="1900" max="2025" />
          </div>
          <div class="form__group">
            <label for="edit_res_gioiTinh">Gi·ªõi t√≠nh</label>
            <select id="edit_res_gioiTinh" class="input">
              <option value="">Ch·ªçn gi·ªõi t√≠nh</option>
              <option value="Nam">Nam</option>
              <option value="N·ªØ">N·ªØ</option>
            </select>
          </div>
        </div>
        <div class="form__row">
          <div class="form__group">
            <label for="edit_res_cccd">CCCD/CMND</label>
            <input id="edit_res_cccd" type="text" class="input" />
          </div>
          <div class="form__group">
            <label for="edit_res_noiSinh">N∆°i sinh</label>
            <input id="edit_res_noiSinh" type="text" class="input" />
          </div>
        </div>
        <div class="form__row">
          <div class="form__group">
            <label for="edit_res_nguonQuan">Nguy√™n qu√°n</label>
            <input id="edit_res_nguonQuan" type="text" class="input" />
          </div>
          <div class="form__group">
            <label for="edit_res_danToc">D√¢n t·ªôc</label>
            <input id="edit_res_danToc" type="text" class="input" />
          </div>
        </div>
        <div class="form__row" id="cccdFieldsRow" style="display:none;">
          <div class="form__group">
            <label for="edit_res_noiCapCCCD">N∆°i c·∫•p CCCD/CMND</label>
            <input id="edit_res_noiCapCCCD" type="text" class="input" />
          </div>
          <div class="form__group">
            <label for="edit_res_ngayCapCCCD">Ng√†y c·∫•p CCCD/CMND</label>
            <input id="edit_res_ngayCapCCCD" type="date" class="input" />
          </div>
        </div>
        <h3>üìÑ Th√¥ng tin ƒëƒÉng k√Ω c∆∞ tr√∫</h3>
        <div class="form__row">
          <div class="form__group">
            <label for="edit_res_ngayDangKy">Ng√†y ƒëƒÉng k√Ω th∆∞·ªùng tr√∫</label>
            <input id="edit_res_ngayDangKy" type="date" class="input" />
          </div>
          <div class="form__group">
            <label for="edit_res_diaChiTruocDo">ƒê·ªãa ch·ªâ tr∆∞·ªõc ƒë√≥</label>
            <input id="edit_res_diaChiTruocDo" type="text" class="input" />
          </div>
        </div>
        <h3>üíº Th√¥ng tin vi·ªác l√†m</h3>
        <div class="form__row">
          <div class="form__group">
            <label for="edit_res_nghePhuong">Ngh·ªÅ nghi·ªáp</label>
            <input id="edit_res_nghePhuong" type="text" class="input" />
          </div>
          <div class="form__group">
            <label for="edit_res_noiLamViec">N∆°i l√†m vi·ªác</label>
            <input id="edit_res_noiLamViec" type="text" class="input" />
          </div>
        </div>
        <div class="form__actions">
          <button type="submit" class="btn btn--primary">‚úì L∆∞u thay ƒë·ªïi</button>
          <button type="button" id="cancelEditResidentBtn" class="btn">H·ªßy</button>
        </div>
      </form>
    </div>
  </div>
</div>