<!-- KPI CARDS -->
<section class="kpis">
  <article class="kpi kpi--blue"><div class="kpi__title">H·ªô kh·∫©u</div><div class="kpi__value" id="kpiHouseholds">0</div></article>
  <article class="kpi kpi--green"><div class="kpi__title">Nh√¢n kh·∫©u</div><div class="kpi__value" id="kpiResidents">0</div></article>
  <article class="kpi kpi--purple"><div class="kpi__title">Th∆∞·ªùng tr√∫</div><div class="kpi__value" id="kpiPermanent">0</div></article>
  <article class="kpi kpi--orange"><div class="kpi__title">T·∫°m tr√∫</div><div class="kpi__value" id="kpiTempRes">0</div></article>
  <article class="kpi kpi--red"><div class="kpi__title">T·∫°m v·∫Øng</div><div class="kpi__value" id="kpiTempAbs">0</div></article>
</section>

<!-- BI·ªÇU ƒê·ªí T·ªîNG QUAN (2 C·ªòT) -->
<section class="grid">
  <div class="card">
    <div class="card__header">
      <h2>Bi·∫øn ƒë·ªông nh√¢n kh·∫©u theo th√°ng</h2>
      <div class="card__actions">
        <label class="sr-only" for="yearSelect">Ch·ªçn nƒÉm</label>
        <select id="yearSelect" aria-label="Ch·ªçn nƒÉm"></select>
      </div>
    </div>
    <canvas id="barChart" height="140" role="img"></canvas>
  </div>
  <div class="card">
    <div class="card__header"><h2>T·ªâ l·ªá tr·∫°ng th√°i c∆∞ tr√∫</h2></div>
    <canvas id="donutChart" height="140" role="img"></canvas>
    <div class="legend" id="donutLegend"></div>
  </div>
</section>

<!-- N√öT SCROLL XU·ªêNG -->
<div class="scroll-indicator">
  <button id="scrollDownBtn" class="scroll-btn" aria-label="Xem th·ªëng k√™ chi ti·∫øt">
    <span>Xem th·ªëng k√™ chi ti·∫øt</span>
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  </button>
</div>

<!-- PH·∫¶N TH·ªêNG K√ä CHI TI·∫æT -->
<section class="stats-section" id="statsSection">
  <div class="section-header">
    <h2>üìä Th·ªëng k√™ chi ti·∫øt</h2>
    <p>Ph√¢n t√≠ch d·ªØ li·ªáu to√†n di·ªán v·ªÅ d√¢n c∆∞ t·ªï d√¢n ph·ªë</p>
  </div>

  <!-- 3 CARD TH·ªêNG K√ä -->
  <section class="grid-3">
    <!-- CARD 1: GI·ªöI T√çNH -->
    <div class="card card-stats">
      <div class="card__header" style="min-height: 40px; display: flex; align-items: center;"><h2 style="margin: 0;">Th·ªëng k√™ theo gi·ªõi t√≠nh</h2></div>
      <div style="position: relative; height: 180px; margin-bottom: 12px; padding: 8px 0;">
        <canvas id="genderChart" role="img"></canvas>
      </div>
      <div style="min-height: 100px; margin-top: 24px;">
        <table class="table table--compact" id="tblGender">
          <thead><tr><th>Nh√≥m</th><th>S·ªë l∆∞·ª£ng</th><th>T·ª∑ l·ªá</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- CARD 2: ƒê·ªò TU·ªîI -->
    <div class="card card-stats">
      <div class="card__header" style="min-height: 40px; display: flex; align-items: center;"><h2 style="margin: 0;">Theo ƒë·ªô tu·ªïi (nh√≥m)</h2></div>
      <div style="position: relative; height: 180px; margin-bottom: 12px; padding: 8px 0; margin-top: 24px;">
        <canvas id="ageChart" role="img"></canvas>
      </div>
      <div style="min-height: 100px;">
        <table class="table table--compact" id="tblAge">
          <thead><tr><th>Nh√≥m tu·ªïi</th><th>S·ªë l∆∞·ª£ng</th><th>T·ª∑ l·ªá</th></tr></thead>
          <tbody></tbody>
        </table>
        <div class="note" style="font-size: 11px;">Nh√≥m: m·∫ßm non (0‚Äì2), m·∫´u gi√°o (3‚Äì5), c·∫•p 1 (6‚Äì10), c·∫•p 2 (11‚Äì14), c·∫•p 3 (15‚Äì17), lao ƒë·ªông (18‚Äì59), ngh·ªâ h∆∞u (60+).</div>
      </div>
    </div>

    <!-- CARD 3: KHO·∫¢NG TH·ªúI GIAN -->
    <div class="card card-stats">
      <div class="card__header" style="min-height: 40px; display: flex; align-items: center;">
        <h2 style="margin: 0;">Theo kho·∫£ng th·ªùi gian</h2>
      </div>
      
      <div style="position: relative; height: 180px; margin-bottom: 12px; padding: 8px 0;">
        <canvas id="periodChart" role="img"></canvas>
      </div>
      
      <div style="min-height: 100px; margin-top: 25px;">
        <table class="table table--compact" id="tblPeriodStats">
          <thead><tr><th>Lo·∫°i</th><th>S·ªë l∆∞·ª£ng</th><th>T·ª∑ l·ªá</th></tr></thead>
          <tbody></tbody>
        </table>
        <div class="note" style="font-size: 11px;">Th∆∞·ªùng tr√∫ / t·∫°m tr√∫ trong giai ƒëo·∫°n.</div>
      </div>

      <!-- PERIOD CONTROLS FOR THIS CARD -->
      <div style="padding: 12px; background: #f8fafc; border-top: 1px solid var(--line); margin: 12px 0 0 0;">
        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
          <div class="input-group">
            <span class="icon">üóì</span>
            <input type="date" class="fromDateStats" style="padding: 4px 6px; border-radius: 4px; border: 1px solid var(--line); font-size: 11px; width: 120px;">
          </div>
          <span style="font-size: 14px;">‚Üí</span>
          <div class="input-group">
            <span class="icon">üóì</span>
            <input type="date" class="toDateStats" style="padding: 4px 6px; border-radius: 4px; border: 1px solid var(--line); font-size: 11px; width: 120px;">
          </div>
        </div>
        <div style="display: flex; justify-content: center;">
          <button class="btnApplyStats" style="padding: 6px 24px; font-size: 12px; font-weight: 600;">√Åp d·ª•ng</button>
        </div>
      </div>
    </div>
  </section>
</section>
